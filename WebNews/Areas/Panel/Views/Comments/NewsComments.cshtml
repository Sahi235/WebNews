@model NewsCommentsVM
@{
    ViewData["Title"] = "NewsComments";
    Layout = "~/Views/Shared/_LimitlessLayout.cshtml";
    int appCount = Model.ApprovedComments.Count();
    int unAppCount = Model.UnApprovedComments.Count();
}
@section css
{
    <script src="~/LimitlessAssets/global_assets/js/demo_pages/components_modals.js"></script>

}
<div class="card">
    <div class="card-header header-elements-sm-inline">
        <h6 class="card-title">Comments</h6>
        <div class="header-elements">
            <a class="text-default daterange-ranges font-weight-semibold cursor-pointer dropdown-toggle">
                <i class="icon-calendar3 mr-2"></i>
                <span></span>
            </a>
        </div>
    </div>

    <div class="card-body d-md-flex align-items-md-center justify-content-md-between flex-md-wrap">
        <div class="d-flex align-items-center mb-3 mb-md-0">
            <div id="tickets-status"></div>
            <div class="ml-3">
                <h5 class="font-weight-semibold mb-0">@ViewBag.CommentsCount<span class="text-success font-size-sm font-weight-normal">@*<i class="icon-arrow-up12"></i> (+2.9%)*@</span></h5>
                <span class="badge badge-mark border-success mr-1"></span> <span class="text-muted">@DateTime.Now.ToString("dddd dd MM yyyy")</span>
            </div>
        </div>

        <div class="d-flex align-items-center mb-3 mb-md-0">
            <a href="#" class="btn bg-transparent border-indigo-400 text-indigo-400 rounded-round border-2 btn-icon">
                <i class="icon-comments"></i>
            </a>
            <div class="ml-3">
                <h5 class="font-weight-semibold mb-0">@unAppCount</h5>
                <span class="text-muted">UnApproved Comments</span>
            </div>
        </div>

        <div class="d-flex align-items-center mb-3 mb-md-0">
            <a href="#" class="btn bg-transparent border-indigo-400 text-indigo-400 rounded-round border-2 btn-icon">
                <i class="icon-comment-discussion"></i>
            </a>
            <div class="ml-3">
                <h5 class="font-weight-semibold mb-0">@appCount</h5>
                <span class="text-muted">Approved Comments</span>
            </div>
        </div>

        @*<div>
                <a href="#" class="btn bg-teal-400"><i class="icon-statistics mr-2"></i> Report</a>
            </div>*@
    </div>

    <div class="table-responsive">
        <table class="table text-nowrap">
            <thead>
                <tr>
                    <th style="width: 50px">Due</th>
                    <th style="width: 300px;">Name</th>
                    <th>Body</th>
                    <th class="text-center" style="width: 20px;"><i class="icon-arrow-down12"></i></th>
                </tr>
            </thead>
            <tbody>
                <tr class="table-active table-border-double">
                    <td colspan="3">UnApproved Comments</td>
                    <td class="text-right">
                        <span class="badge bg-blue badge-pill">@unAppCount</span>
                    </td>
                </tr>
                @foreach (var uapp in Model.UnApprovedComments)
                {
                    <tr>
                        <td class="text-center">
                            <h6 class="mb-0">@uapp.PublishedDate.Humanize()</h6>
                            @*<div class="font-size-sm text-muted line-height-1">@uapp.PublishedDate.Humanize()</div>*@
                        </td>
                        <td>
                            <div class="d-flex align-items-center">
                                <div class="mr-3">
                                    <a href="#" class="btn bg-teal-400 rounded-round btn-icon btn-sm">
                                        <span class="letter-icon"></span>
                                    </a>
                                </div>
                                <div>
                                    <a href="#" class="text-default font-weight-semibold letter-icon-title">@uapp.Name</a>
                                    <div class="text-muted font-size-sm"><span class="badge badge-mark border-blue mr-1"></span> UpApproved</div>
                                </div>
                            </div>
                        </td>
                        <td>
                            <a href="#" class="text-default">
                                <div class="font-weight-semibold">@uapp.Description</div>
                                @*<span class="text-muted"></span>*@
                            </a>
                        </td>
                        <td class="text-center">
                            <div class="list-icons">
                                <div class="dropdown">
                                    <a href="#" class="list-icons-item dropdown-toggle caret-0" data-toggle="dropdown"><i class="icon-menu7"></i></a>
                                    <div class="dropdown-menu dropdown-menu-right">
                                        <a href="#" class="dropdown-item"><i class="icon-undo"></i> Quick Action</a>
                                        <a href="#" class="dropdown-item"><i class="icon-history"></i> Full history</a>
                                        <div class="dropdown-divider"></div>
                                        <a href="#" class="dropdown-item" data-toggle="modal" data-target="#modal_theme_success_@uapp.Id"><i class="icon-checkmark3 text-success"></i> Approve</a>
                                        <a href="#" class="dropdown-item"><i class="icon-cross2 text-danger"></i> Delete</a>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                }


                <tr class="table-active table-border-double">
                    <td colspan="3">Approved Comments</td>
                    <td class="text-right">
                        <span class="badge bg-success badge-pill">@appCount</span>
                    </td>
                </tr>

                @foreach (var app in Model.ApprovedComments)
                {
                    <tr>
                        <td class="text-center">
                            <i class="icon-checkmark3 text-success"></i>
                        </td>
                        <td>
                            <div class="d-flex align-items-center">
                                <div class="mr-3">
                                    <a href="#" class="btn bg-success-400 rounded-round btn-icon btn-sm">
                                        <span class="letter-icon"></span>
                                    </a>
                                </div>
                                <div>
                                    <a href="#" class="text-default font-weight-semibold letter-icon-title">Alan Macedo</a>
                                    <div class="text-muted font-size-sm"><span class="badge badge-mark border-success mr-1"></span> Resolved</div>
                                </div>
                            </div>
                        </td>
                        <td>
                            <a href="#" class="text-default">
                                <div>[#1046] Avoid some unnecessary HTML string</div>
                                <span class="text-muted">Rather than building a string of HTML and then parsing it...</span>
                            </a>
                        </td>
                        <td class="text-center">
                            <div class="list-icons">
                                <div class="dropdown">
                                    <a href="#" class="list-icons-item dropdown-toggle caret-0" data-toggle="dropdown"><i class="icon-menu7"></i></a>
                                    <div class="dropdown-menu dropdown-menu-right">
                                        <a href="#" class="dropdown-item"><i class="icon-undo"></i> Quick reply</a>
                                        <a href="#" class="dropdown-item"><i class="icon-history"></i> Full history</a>
                                        <div class="dropdown-divider"></div>
                                        <a href="#" class="dropdown-item"><i class="icon-plus3 text-blue"></i> Unresolve issue</a>
                                        <a href="#" class="dropdown-item"><i class="icon-cross2 text-danger"></i> Close issue</a>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>

                }

            </tbody>
        </table>
    </div>
</div>


@foreach (var unapp in Model.UnApprovedComments)
{
    <div id="modal_theme_success_@unapp.Id" class="modal fade" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-success">
                    <h6 class="modal-title">Success header</h6>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <div class="modal-body">
                    <h6 class="font-weight-semibold">Text in a modal</h6>
                    <p>Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor.</p>

                    <hr>

                    <h6 class="font-weight-semibold">Another paragraph</h6>
                    <p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>
                    <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor.</p>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-link" data-dismiss="modal">Close</button>
                    <button type="button" class="btn bg-success">Save changes</button>
                </div>
            </div>
        </div>
    </div>
}








@*<tr class="table-active table-border-double">
        <td colspan="3">Closed tickets</td>
        <td class="text-right">
            <span class="badge bg-danger badge-pill">37</span>
        </td>
    </tr>


    <tr>
        <td class="text-center">
            <i class="icon-cross2 text-danger"></i>
        </td>
        <td>
            <div class="d-flex align-items-center">
                <div class="mr-3">
                    <a href="#" class="btn bg-brown-400 rounded-round btn-icon btn-sm">
                        <span class="letter-icon"></span>
                    </a>
                </div>
                <div>
                    <a href="#" class="text-default font-weight-semibold letter-icon-title">Katleen Jensen</a>
                    <div class="text-muted font-size-sm"><span class="badge badge-mark border-danger mr-1"></span> Closed</div>
                </div>
            </div>
        </td>
        <td>
            <a href="#" class="text-default">
                <div>[#1038] Proper sizing of form control feedback</div>
                <span class="text-muted">Feedback icon sizing inside a larger/smaller form-group...</span>
            </a>
        </td>
        <td class="text-center">
            <div class="list-icons">
                <div class="dropdown">
                    <a href="#" class="list-icons-item dropdown-toggle caret-0" data-toggle="dropdown"><i class="icon-menu7"></i></a>
                    <div class="dropdown-menu dropdown-menu-right">
                        <a href="#" class="dropdown-item"><i class="icon-undo"></i> Quick reply</a>
                        <a href="#" class="dropdown-item"><i class="icon-history"></i> Full history</a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item"><i class="icon-plus3 text-blue"></i> Unresolve issue</a>
                        <a href="#" class="dropdown-item"><i class="icon-spinner11 text-grey"></i> Reopen issue</a>
                    </div>
                </div>
            </div>
        </td>
    </tr>*@